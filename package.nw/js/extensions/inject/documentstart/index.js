!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=168)}({11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(30),i=n(2);let r,a=!1,s=[],l=!1;const c=new Set;t.getMessager=()=>{if(r)return r;const e="WEBVIEW_"+o.webviewID;return r=new i(e),r};const d=e=>{c.forEach(t=>{try{t(e)}catch(e){}})},u=e=>{if(a)d(e);else{const{command:t}=e;switch(t){case"WEBVIEW_ON_EVENT":case"APPSERVICE_PUBLISH":case"APPSERVICE_PUBLISH_SYNC":s.push(e);break;default:d(e)}}};function f(e){e.fromWebviewID=o.webviewID;t.getMessager().send(e)}function m(e){if(c.add(e),!l){t.getMessager().registerCallback(u),l=!0}}function g(e){if(c.delete(e),!l){t.getMessager().registerCallback(u),l=!0}}function w(e,n){if(a===e)return;a=e;t.getMessager()._parseJson=n,e&&(s.forEach(e=>d(e)),s=[])}t.send=f,t.registerCallback=m,t.removeCallback=g,t.setPageframeReady=w,t.setJSONParser=function(e){t.getMessager()._parseJson=e},t.default={send:f,registerCallback:m,removeCallback:g,setPageframeReady:w}},168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(169),i=n(170),r=n(171),a=n(172),s=n(173),l=n(174),c=n(175),d=n(176),u=n(177),f=n(178),m=n(179),g=n(185),w=n(187),E=n(71),p=n(188),_=n(48),h=n(189),v=n(190),{isWebDebugger:b,isMiniProgramHtmlWebview:y,isMiniProgram:O,isAppService:S,isGame:I,isIDEPlugin:M,isSimulatorPlugin:T,isSubAppWindow:R,isGameEngineIDE:P,isEditor:N,isAppServiceDevtools:A,isGitManager:D,isCloudConsoleV1:k,isTestMode:C,isAllowNw:L,gameEnvType:W}=E.default;f.default(),function(){if("undefined"!=typeof nw&&void 0!==nw.Menu){const e=nw.Menu.prototype.popup;nw.Menu.prototype.popup=function(...t){nw.Window.get().window.global.Win.contextMenu={type:"nw",menu:this},console.log("hacked menu.popup:",t,this,e),e.apply(this,t)}}}(),R||(s.default(),l.default(),c.default()),(I||O||S)&&(d.default(),u.default()),b&&m.default(),y&&r.default(),(I||S)&&(h.default(),P?i.default():o.default(),!L||W!==p.IEnvType.Vip&&W!==p.IEnvType.Dev&&W!==p.IEnvType.Test&&W!==p.IEnvType.PublicDev||v.default()),(I||O||y)&&!P&&a.default(),M&&g.default(),T&&w.default(),(N||A||D||k)&&C&&(new _.default).init()},169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(70);t.default=()=>{const e=Object.getOwnPropertyNames(window).filter(e=>o.nodeGlobal.indexOf(e)<0);for(const t of e){if(o.windowRemain[t])continue;const e=Object.getOwnPropertyDescriptor(window,t);e&&!0!==e.configurable||delete window[t]}for(const e in document){if(o.documentRemain[e])continue;const t=Object.getOwnPropertyDescriptor(document,e);t&&!0!==t.configurable||(delete document[e],Object.defineProperty(document,e,{configurable:!0,value:void 0}))}for(const e in window.__global.document){if(o.__globalDocumentRemain[e])continue;const t=Object.getOwnPropertyDescriptor(window.__global.document,e);t&&!0!==t.configurable||(delete window.__global.document[e],Object.defineProperty(window.__global.document,e,{configurable:!0,value:void 0}))}}},170:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(70),i=n(71),{isGameEngineIDEIframe:r}=i.default;t.default=()=>{if(r)return;window.__global.HTMLUnknownElement=HTMLUnknownElement,window.__global.HTMLElement=HTMLElement,window.__global.HTMLDocument=HTMLDocument,window.__global.Function=Function,window.__global.fetch=window.fetch.bind(window),window.__global.addEventListener=window.addEventListener.bind(window),window.__global.removeEventListener=window.removeEventListener.bind(window),window.__global.postMessage=window.postMessage.bind(window);const e=Object.getOwnPropertyNames(window).filter(e=>o.nodeGlobal.indexOf(e)<0),t=Object.assign({},o.windowRemain,o.__globalWindowRemainForEngineIDE);for(const n of e){if(t[n])continue;const e=Object.getOwnPropertyDescriptor(window,n);e&&!0!==e.configurable||delete window[n]}for(const e in document){if(o.documentRemain[e])continue;const t=Object.getOwnPropertyDescriptor(document,e);t&&!0!==t.configurable||(delete document[e],Object.defineProperty(document,e,{configurable:!0,value:void 0}))}const n=Object.assign({},o.__globalDocumentRemain,o.__globalDocumentRemainForEngineIDE);for(const e in window.__global.document){if(n[e])continue;const t=Object.getOwnPropertyDescriptor(window.__global.document,e);t&&!0!==t.configurable||(delete window.__global.document[e],Object.defineProperty(window.__global.document,e,{configurable:!0,value:void 0}))}}},171:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{window.__wxjs_environment="miniprogram"}},172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=()=>{window.addEventListener("contextmenu",e=>{e.preventDefault(),window.__global.alert(`contextmenu:${e.clientX}:${e.clientX}`)},!0)}},173:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{document.addEventListener("mousewheel",e=>{e.ctrlKey&&e.preventDefault()},{passive:!1})}},174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=!1;function i(e){e.preventDefault(),e.stopPropagation()}function r(e){e.preventDefault(),e.stopPropagation()}const a=()=>{if(o)return;const e=document.body;e&&(e.addEventListener("dragover",i,!1),e.addEventListener("drop",r,!1)),o=!0};t.default=()=>{"complete"===document.readyState||"interactive"===document.readyState?a():document.onreadystatechange=()=>{"interactive"!==document.readyState&&"complete"!==document.readyState||a()}}},175:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{window.addEventListener("message",e=>{const t=e.data;t&&"object"==typeof t&&function(e){if(e&&("geolocation"===e.module||"locationPicker"===e.module)){let t=e;"geolocation"===e.module&&(t={module:"locationPicker",latlng:{lat:e.lat,lng:e.lng},poiaddress:`${e.province}${e.city}`,poiname:e.addr,cityname:e.city}),window.__global.alert("map handle:"+JSON.stringify(t))}}(t)})}},176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o={IGNORE_ERROR_REGS:[],IGNORE_WARNING_REGS:[{regExp:/^WXMLRT_\$gwx:/,allowReportOnce:!0,matchContentCache:[]}],shouldIgnoreWarn:(...e)=>e.some(e=>"string"==typeof e&&o.IGNORE_WARNING_REGS.some(t=>!!t.regExp.test(e)&&(!(t.allowReportOnce&&!t.matchContentCache.includes(e))||(t.matchContentCache.push(e),!1)))),shouldIgnoreError:(...e)=>e.some(e=>"string"==typeof e&&o.IGNORE_ERROR_REGS.some(t=>!!t.regExp.test(e)&&(!(t.allowReportOnce&&!t.matchContentCache.includes(e))||(t.matchContentCache.push(e),!1))))};t.default=()=>{const e=console.error.bind(console),t=console.warn.bind(console);console.error=function(...t){if(!o.shouldIgnoreError(...t))try{if(t.length<=1)return t[0]instanceof Error&&t[0].stack?e(t[0].stack):e(...t);for(const n of t)if("object"==typeof n)return e(...t);return e(t.join(" "))}catch(n){e(...t)}},console.warn=function(...n){if(!o.shouldIgnoreWarn(...n))try{if(n.length<=1)return n[0]instanceof Error&&n[0].stack?e(n[0].stack):t(...n);for(const e of n)if("object"==typeof e)return t(...n);return t(n.join(" "))}catch(e){t(...n)}}}},177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=()=>{window.onerror=function(e,t,n,o,i){try{return window.__global.WeixinJSBridge.__triggerOnEvent("onError",i),!0}catch(e){}return!1}}},178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o={origin:!0},i=()=>{},r=(e,t)=>{Object.setPrototypeOf(e,t);for(const n in t)try{e[n]=t[n]}catch(e){}};t.default=()=>{if(location.protocol.startsWith("chrome-extension"))return;const e=window.alert,t=window.prompt,n=XMLHttpRequest,a=new Set;let s,l,c;const d={dialogDisable:!1,alert:function(){if(!window.__global.dialogDisable)return e.apply(window,arguments)},prompt:function(){if(!window.__global.dialogDisable)return t.apply(window,arguments)},parent:window.parent,Worker:Worker,WebSocket:WebSocket,XMLHttpRequest:n,FileReader:FileReader,fetch:window.fetch.bind(window),atob:window.atob.bind(window),btoa:window.btoa.bind(window),TextEncoder:window.TextEncoder.bind(window),TextDecoder:window.TextDecoder.bind(window),requestAnimationFrame:window.requestAnimationFrame,cancelAnimationFrame:window.cancelAnimationFrame,requestIdleCallback:window.requestIdleCallback.bind(window),cancelIdleCallback:window.cancelIdleCallback.bind(window),setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,CustomEvent:CustomEvent,clearInterval:clearInterval,MutationObserver:MutationObserver,Image:Image,Audio:Audio,navigator:navigator,addEventListener:window.addEventListener.bind(window),removeEventListener:window.removeEventListener.bind(window),get canvasProto(){if(!s){s={};const e=document.createElement("canvas");r(s,Object.getPrototypeOf(e))}return s},get canvasWebGlContextProto(){if(!l){l={};const e=document.createElement("canvas").getContext("webgl");r(l,Object.getPrototypeOf(e))}return l},get canvas2dContextProto(){if(!c){c={};const e=document.createElement("canvas").getContext("2d");r(c,Object.getPrototypeOf(e))}return c},history:window.history,networkLog:e=>{if(!a.has(e.reqId)){if(!e.url)return;if("wx.cloud.init"===e.url);else if(!e.url.startsWith("wx.cloud.callFunction")&&!e.url.startsWith("wx.cloud.callContainer"))return}try{const t=JSON.stringify(e),o=new n;o.addEventListener("load",()=>{}),o.addEventListener("error",i),o.open(e.method||"POST",`/networklog/${e.type}/${e.reqId}`,!0),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.timestampMs&&o.setRequestHeader("x-timestamp-ms",e.timestampMs.toString()),o.send(t),a.add(e.reqId)}catch(e){throw console.error("networkLog xhr error",e),e}},createCustomImage:function(e,t){let n="",o="";const i=window.__global.Image;return new class extends i{set src(t){const o=e(t);n=o,super.src="origin"!==super.referrerPolicy?o+"#devtools_no_referrer":o}get src(){return t(n)}set referrerPolicy(e){o=e,super.referrerPolicy=e}get referrerPolicy(){return o}}},document:{},Touch:window.Touch,TouchEvent:window.TouchEvent,SharedArrayBuffer:window.SharedArrayBuffer,Atomics:window.Atomics,WebAssembly:window.WebAssembly};for(const e in window.document)if(!o[e])try{"function"==typeof window.document[e]?d.document[e]=window.document[e].bind(document):d.document[e]=window.document[e]}catch(e){}window.__global=d}},179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(180);function i(){!function(){const e=["ontouchstart","ontouchend","ontouchmove","ontouchcancel"],t=[window.__proto__,document.__proto__];for(const n of e)for(const e of t)n in e||Object.defineProperty(e,n,{value:null,writable:!0,configurable:!0,enumerable:!0})}(),window.WeixinJSBridge=o.default();const e=document.createEvent("UIEvent");e.initEvent("WeixinJSBridgeReady",!1,!1),document.dispatchEvent(e)}t.default=()=>{"complete"===document.readyState?i():window.addEventListener("load",()=>{i()})}},180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(181),i=n(184),r=()=>{console.error("WeixinJSBridge.call 不被支持，请参考 http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html 进行正确调用")},a=e=>{console.log(e)};t.default=()=>({invoke:o.default(),on:i.default(),call:r,log:a})},181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(29),i=n(182),r={};let a=1,s=!1;function l(e,t,n){if(/^__sys/.test(e))return;if("shareTimeline"===e||"sendAppMessage"===e){const t="shareTimeline"===e?"onMenuShareTimeline":"onMenuShareAppMessage",n="shareTimeline"===e?"updateTimelineShareData":"updateAppMessageShareData";console.warn(`wx.${t} is about to be abandoned, please use wx.${n}. See https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#10 for more detail.`)}"startRecord"===e&&console.warn("开发者工具录制的音频并非是真正的silk格式文件，对其以silk格式进行解析将发生错误"),console.group(`${new Date} wx.${i.default.getSdkDisplayName(e)} begin`),console.info(i.default.getSdkArgs(e,t)),console.groupEnd();const s=a++;r[s]={api:e,cb:n},o.default.send({command:"WEBDEBUGGER_INVOKE",data:{api:e,args:t,callbackID:s}})}t.default=()=>(s||(s=!0,o.default.registerCallback(e=>{var t;const{command:n,data:a}=e;if("WEBDEBUGGER_INVOKE_CALLBACK"===n){const e=a.callbackID,n=r[e];if(n&&"function"==typeof n.cb){const e=n.api,o=a.res,r=a.ext;if(console.group(`${new Date} wx.${i.default.getSdkDisplayName(e)} end`),console.info(i.default.getSdkArgs(e,o)),console.groupEnd(),"preVerifyJSAPI"===e&&/^config:ok/.test(o.errMsg)){const e=r.args.verifyJsApiList||[],n=r.sdkResExt,a=[],s=[];let l=[];e.forEach(e=>{(n.defaultPurview[e]||n.purviewFormGetA8key[e]||n.purviewFromPreVerify[e])&&(0===l.length?a.push(l):6===l.length&&(l=[],a.push(l)),l.push(i.default.getSdkDisplayName(e)))}),console.group(new Date+" 当前页面通过 wx.config 获取到的 JSSDK 权限如下"),console.table(a),console.groupEnd(),(null===(t=o.verifyOpenTagList)||void 0===t?void 0:t.length)>0&&(l=[],o.verifyOpenTagList.forEach(e=>{0===l.length?s.push(l):6===l.length&&(l=[],s.push(l)),l.push(e)}),console.group(new Date+" 当前页面通过 wx.config 获取到的 OpenTag 权限如下"),console.table(s),console.groupEnd())}"function"==typeof n.cb&&n.cb(o)}delete r[e]}else"WEBDEBUGGER_GET_TITLE"===n&&self===top&&o.default.send({command:"WEBDEBUGGER_GET_TITLE_RES",data:{title:document.title}})})),l)},182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(183);function i(e){return o.default.sdkDisplayName[e]||e}t.default={getSdkArgs:function(e,t={}){const n=JSON.parse(JSON.stringify(t));if(delete n.verifyAppId,"preVerifyJSAPI"===e)n.jsApiList=n.verifyJsApiList||[],n.jsApiList.forEach((e,t)=>{n.jsApiList[t]=i(e)}),n.verifyNonceStr&&(n.nonceStr=n.verifyNonceStr),n.verifySignature&&(n.signature=n.verifySignature),n.verifyTimestamp&&(n.timestamp=n.verifyTimestamp),n.verifyOpenTagList&&(n.openTagList=n.verifyOpenTagList),delete n.verifyJsApiList,delete n.verifyNonceStr,delete n.verifySignature,delete n.verifyTimestamp,delete n.verifySignType,delete n.verifyOpenTagList;else for(const e in t)o.default.doNotDisplayArgsConfig[e]&&delete n[e];return n},getSdkDisplayName:i}},183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={sdkDisplayName:{shareTimeline:"onMenuShareTimeline",sendAppMessage:"onMenuShareAppMessage",shareQQ:"onMenuShareQQ",shareWeiboApp:"onMenuShareWeibo",shareQZone:"onMenuShareQZone","menu:share:timeline":"onMenuShareTimeline","menu:share:appmessage":"onMenuShareAppMessage","menu:share:qq":"onMenuShareQQ","menu:share:weiboApp":"onMenuShareWeibo","menu:share:QZone":"onMenuShareQZone",preVerifyJSAPI:"config",imagePreview:"previewImage",geoLocation:"getLocation",openProductViewWithPid:"openProductSpecificView",batchAddCard:"addCard",batchViewCard:"openCard",getBrandWCPayRequest:"chooseWXPay",showPickerView:"showPickerView",showDatePickerView:"showDatePickerView"},doNotDisplayArgsConfig:{appId:!0,verifyAppId:!0,verifyNonceStr:!0,verifySignType:!0,verifySignature:!0,verifyTimestamp:!0,origin:!0,webviewId:!0,__isFromOn__:!0,__domain__:!0,__url__:!0}}},184:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(29),i={};let r=!1;t.default=()=>(r||(r=!0,o.default.registerCallback(e=>{const{command:t,data:n}=e;if("WEBDEBUGGER_ON_EVENT"===t){const e=i[n.eventName];"function"==typeof e&&e(n.data)}})),(e,t)=>{i[e]=t})},185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(72),i=n(73),r=n(186);t.default=()=>{const e=window.navigator.userAgent.match(/pluginid\/(\S*)/),t=e?e[1]:"";t&&(Object.defineProperty(window,"wechatide",{value:new o.default(t),writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(window,"pluginStorage",{value:new i.default,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(window,"logger",{value:new r.default(t),writable:!1,enumerable:!1,configurable:!1}),window.dispatchEvent(new CustomEvent("wechatideReady",{detail:window.wechatide})),window.dispatchEvent(new CustomEvent("pluginStorageReady",{detail:window.pluginStorage})))}},186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.pluginId=e}error(...e){window.wechatide.invoke("PLUGIN_LOGGER_ERROR",{msg:e||[],pluginId:this.pluginId})}info(...e){window.wechatide.invoke("PLUGIN_LOGGER_INFO",{msg:e||[],pluginId:this.pluginId})}}},187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(72),i=n(73),r={onBeforeInvoke:"APPSERVICE_ON_BEFORE_INVOKE",offBeforeInvoke:"APPSERVICE_OFF_BEFORE_INVOKE",onAfterInvoke:"APPSERVICE_ON_AFTER_INVOKE",offAfterInvoke:"APPSERVICE_OFF_AFTER_INVOKE",onBeforeTriggerEvent:"APPSERVICE_ON_BEFORE_TRIGGER_EVENT",offBeforeTriggerEvent:"APPSERVICE_OFF_BEFORE_TRIGGER_EVENT",onAfterTriggerEvent:"APPSERVICE_ON_AFTER_TRIGGER_EVENT",offAfterTriggerEvent:"APPSERVICE_OFF_AFTER_TRIGGER_EVENT"},a={onBeforeInvoke:"WEBVIEW_ON_BEFORE_INVOKE",offBeforeInvoke:"WEBVIEW_OFF_BEFORE_INVOKE",onAfterInvoke:"WEBVIEW_ON_AFTER_INVOKE",offAfterInvoke:"WEBVIEW_OFF_AFTER_INVOKE",onBeforeTriggerEvent:"WEBVIEW_ON_BEFORE_TRIGGER_EVENT",offBeforeTriggerEvent:"WEBVIEW_OFF_BEFORE_TRIGGER_EVENT",onAfterTriggerEvent:"WEBVIEW_ON_AFTER_TRIGGER_EVENT",offAfterTriggerEvent:"WEBVIEW_OFF_AFTER_TRIGGER_EVENT"};class s extends o.default{constructor(e){super(e),this.callbackCounter=1,this.callbackMap={},this.__messager.registerCallback(e=>{const{command:t,data:n}=e;if("SIMULATOR_PLUGIN_HOOK_CALLBACK"===t){const{callbackID:e,args:t,eventName:o}=n;let i;i=o?this.callbackMap[e].cb(o,t):this.callbackMap[e].cb(t),Promise.resolve(i).then(t=>{t&&this.__messager.send({command:"SIMULATOR_PLUGIN_HOOK_CALLBACK_RETURN",data:t,callbackID:e})})}})}wrapCallback(e,t,n){n="function"==typeof n?n:()=>{},this.deleteFromCallbackMap(e,t);const o=this.callbackCounter;return this.callbackMap[o]={cb:n,type:e,api:t},this.callbackCounter++,o}deleteFromCallbackMap(e,t){for(const n in this.callbackMap)if(this.callbackMap[n].type===e&&this.callbackMap[n].api===t){delete this.callbackMap[n];break}}recordOffMethod(e,t){const[n,o]=t,i=e.split("_");i[1]="ON";const r=i.join("_");this.deleteFromCallbackMap(r,n),this.invoke(e,{api:n,options:o})}recordOnMethod(e,t){const[n,o,i]=t;this.invoke(e,{callbackID:this.wrapCallback(e,n,i),api:n,options:o})}get simulator(){return{appservice:this.appservice,webview:this.webview}}get appservice(){const e=r;return{onBeforeInvoke:(...t)=>{this.recordOnMethod(e.onBeforeInvoke,t)},offBeforeInvoke:(...t)=>{this.recordOffMethod(e.offBeforeInvoke,t)},onAfterInvoke:(...t)=>{this.recordOnMethod(e.onAfterInvoke,t)},offAfterInvoke:(...t)=>{this.recordOffMethod(e.offAfterInvoke,t)},onBeforeTriggerEvent:(...t)=>{this.recordOnMethod(e.onBeforeTriggerEvent,t)},offBeforeTriggerEvent:(...t)=>{this.recordOffMethod(e.offBeforeTriggerEvent,t)},onAfterTriggerEvent:(...t)=>{this.recordOnMethod(e.onAfterTriggerEvent,t)},offAfterTriggerEvent:(...t)=>{this.recordOffMethod(e.offAfterTriggerEvent,t)}}}get webview(){const e=a;return{onBeforeInvoke:(...t)=>{this.recordOnMethod(e.onBeforeInvoke,t)},offBeforeInvoke:(...t)=>{this.recordOffMethod(e.offBeforeInvoke,t)},onAfterInvoke:(...t)=>{this.recordOnMethod(e.onAfterInvoke,t)},offAfterInvoke:(...t)=>{this.recordOffMethod(e.offAfterInvoke,t)},onBeforeTriggerEvent:(...t)=>{this.recordOnMethod(e.onBeforeTriggerEvent,t)},offBeforeTriggerEvent:(...t)=>{this.recordOffMethod(e.offBeforeTriggerEvent,t)},onAfterTriggerEvent:(...t)=>{this.recordOnMethod(e.onAfterTriggerEvent,t)},offAfterTriggerEvent:(...t)=>{this.recordOffMethod(e.offAfterTriggerEvent,t)}}}}t.default=()=>{const e=window.navigator.userAgent.match(/pluginid\/(\S*)/),t=e?e[1]:"";t&&(Object.defineProperty(window,"wechatide",{value:new s(t),writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(window,"pluginStorage",{value:new i.default,writable:!1,enumerable:!1,configurable:!1}),window.dispatchEvent(new CustomEvent("wechatideReady",{detail:window.wechatide})),window.dispatchEvent(new CustomEvent("pluginStorageReady",{detail:window.pluginStorage})))}},188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Public="Public",e.Test="Test",e.PublicDev="PublicDev",e.Vip="Vip",e.TestServer="TestServer",e.Dev="Dev",e.SimulatePublic="SimulatePublic",e.UnKnow="UnKnow"}(t.IEnvType||(t.IEnvType={}))},189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o={},i=/\.(\\|\/)/,r=/\.js$/,a=window.CustomEvent,s=window.dispatchEvent.bind(window),l=window.document.createElement.bind(window.document),c=window.document.getElementsByTagName.bind(window.document);function d(e){if(i.test(e))return;if(r.test(e)||(e+=".js"),void 0!==o[e])return;o[e]=!0,s(new a("__babel_module_loading"));const t=l("script");t.src=e,t.onload=function(){o[e]=!1,function(){for(const e in o)if(o[e])return!1;return!0}()&&s(new a("__babel_module_loaded"))},t.onerror=function(){throw new Error(e+" load error")},c("head")[0].appendChild(t)}t.default=()=>{window.loadBabelMod=function(e,t){if(__global.asSubLoader)(null==t?void 0:t.sync)?__global.asSubLoader.loadBabelModulesSync(e):__global.asSubLoader.loadBabelModules(e);else for(const t of e)d(t)}}},190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){window.__global||(window.__global={}),window.__global.require=window.require,window.__global.__engineInnerNodeRequire=window.require}},2:function(e,t,n){"use strict";const o=window.navigator||window.__global.navigator,i=window.WebSocket||window.__global.WebSocket,r=window.prompt||window.__global.prompt,a=o.userAgent.match(/port\/(\d*)/),s=a?parseInt(a[1]):9974,l="ws://127.0.0.1:"+s;window.__maxConnectTryTime=10;e.exports=class{constructor(e,t=!0){this._protocol=e,this._needToken=t,this._ws=null,this._msgQueue=[],this._callback=new Set,this._parseJson=null,this.tryTime=0,"complete"===document.readyState?setTimeout(()=>{this.connect()}):window.addEventListener("load",()=>{this.connect()})}connect(){if(!s)return;if(this.tryTime++,this.tryTime>=window.__maxConnectTryTime)return void console.error("当前应用通道断开且重连次数已满，请重新编译应用");let e=this._protocol;if(this._needToken){e=`${e}#${r("GET_MESSAGE_TOKEN")}#`}this._ws=new i(l,e),this._ws.onopen=()=>{const e=[].concat(this._msgQueue);this._msgQueue=[],e.forEach(e=>{this.send(e)})},this._ws.onclose=()=>{this._ws=null,setTimeout(()=>{this.connect()},150)},this._ws.onmessage=e=>{try{const t=this._parseJson?this._parseJson(e.data):JSON.parse(e.data);this._callback.forEach(e=>{try{e.call(this,t)}catch(e){}})}catch(e){}}}send(e){this._ws&&this._ws.readyState===i.OPEN?this._ws.send(JSON.stringify(e)):this._msgQueue.push(e)}registerCallback(e){"function"==typeof e&&this._callback.add(e)}removeCallback(e){this._callback.delete(e)}}},29:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),i=navigator.userAgent.match(/webview\/([\w]*)/),r=i?i[1]:"",a=`${Date.now()}${Math.floor(1e4*Math.random())}`;let s;const l=()=>{if(s)return s;return s=new o("WEBDEBUGGER_"+a),s.send({command:"WEBDEBUGGER_MESSAGER_READY",webviewID:r,runtimeID:a}),s};t.default={send(e){e.webviewID=r,e.runtimeID=a;l().send(e)},registerCallback(e){l().registerCallback(e)}}},30:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=navigator.userAgent,i=o.indexOf(" devtoolsedit")>0,r=o.indexOf(" appservicedevtools")>0;if(t.webviewID="",i)t.webviewID="devtoolsedit";else if(r)t.webviewID="appservicedevtools";else{const e=o.match(/webview\/(\d*)/);if(e){const n=parseInt(e[1],10);isNaN(n)||(t.webviewID=n)}}},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Success:0,NoSuchElement:7}},41:function(e,t,n){"use strict";e.exports={webview:{scroll:"Driver.scroll",getTagName:"Driver.getTagName",getAttribute:"Driver.getAttribute",getLocation:"Driver.getLocation",getSize:"Driver.getSize",getRect:"Driver.getRect",getCssValue:"Driver.getCssValue",getProperty:"Driver.getProperty",elementFromPoint:"Driver.elementFromPoint",getContentSize:"Driver.getContentSize",findElement:"Driver.findElement",findElements:"Driver.findElements",sendKeys:"Driver.sendKeys",focus:"Driver.focus",scrollIntoView:"Driver.scrollIntoView",actionElementFromPoint:"Driver.actionElementFromPoint",tapElement:"Driver.tapElement",longtapElement:"Driver.longtapElement",touchDown:"Driver.touchDown",touchUp:"Driver.touchUp",touchMove:"Driver.touchMove",findShadowRoot:"Driver.findShadowRoot",findElementInWebviewShadowRoot:"Driver.findElementInWebviewShadowRoot",clickContextMenu:"Driver.clickContextMenu"}}},48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(11),i=n(30),r=n(40),a=n(41),{webview:s}=a,l=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;class c{constructor(){this.ELEMENTS_INFO={},this.ELEMENTS_WEAK_MAP=new WeakMap,this.getElementId=e=>{let t=this.ELEMENTS_WEAK_MAP.get(e);return t||(t=`${i.webviewID}_${Math.random()}${Date.now()}`,this.ELEMENTS_INFO[t]=e,this.ELEMENTS_WEAK_MAP.set(e,t)),t},this.getDOM=e=>this.ELEMENTS_INFO[e],this.removeDOM=e=>{const t=this.ELEMENTS_WEAK_MAP.get(e);return t&&(delete this.ELEMENTS_INFO[t],this.ELEMENTS_WEAK_MAP.delete(e)),t};new l(e=>{e.forEach(e=>{e.removedNodes.length>0&&e.removedNodes.forEach(e=>{e&&this.removeDOM(e)})})}).observe(document,{childList:!0})}}t.default=class{constructor(){this.nodeManager=new c,this.findElement=(e,t)=>{if("css selector"===e){const e=document.querySelector(t);if(e)return{status:r.default.Success,value:{WEBVIEW_ELEMENT:this.nodeManager.getElementId(e)}}}return{status:r.default.NoSuchElement,value:{message:"no such element"}}},this.findElements=(e,t)=>{if("css selector"===e){const e=document.querySelectorAll(t),n=[];return e.forEach(e=>{n.push(this.nodeManager.getElementId(e))}),{status:r.default.Success,value:n}}return{status:r.default.NoSuchElement,value:{message:"no such element"}}},this.scroll=(e,t)=>(document.documentElement&&(document.documentElement.scrollLeft+=e,document.documentElement.scrollTop+=t),document.body.scrollLeft+=e,document.body.scrollTop+=t,{status:r.default.Success}),this.getTagName=e=>{const t=this.nodeManager.getDOM(e);return t?{status:r.default.Success,value:t.tagName.toLowerCase()}:{status:r.default.NoSuchElement,value:{message:"no such element"}}},this.getCssValue=(e,t)=>{const n=this.nodeManager.getDOM(e);if(!n)return{status:r.default.NoSuchElement,value:{message:"no such element"}};const o=window.getComputedStyle(n);return{status:r.default.Success,value:o[t]}},this.getProperty=(e,t)=>{const n=this.nodeManager.getDOM(e);return n?{status:r.default.Success,value:n[t]}:{status:r.default.NoSuchElement,value:{message:"no such element"}}},this.getLocation=e=>{const t=this.nodeManager.getDOM(e);if(!t)return{status:r.default.NoSuchElement,value:{message:"no such element"}};const n=t.getBoundingClientRect();return{status:r.default.Success,value:{x:n.left,y:n.top}}},this.getSize=e=>{const t=this.nodeManager.getDOM(e);if(!t)return{status:r.default.NoSuchElement,value:{message:"no such element"}};const n=t.getBoundingClientRect();return{status:r.default.Success,value:{width:n.width,height:n.height}}},this.getRect=e=>{const t=this.nodeManager.getDOM(e);if(!t)return{status:r.default.NoSuchElement,value:{message:"no such element"}};const n=t.getBoundingClientRect();let o=t;return"wx-scroll-view"===t.localName&&(o=t.querySelector("div div")||t),{status:r.default.Success,value:{x:n.left,y:n.top,width:n.width,height:n.height,scrollTop:o.scrollTop,scrollLeft:o.scrollLeft,scrollHeight:o.scrollHeight,scrollWidth:o.scrollWidth}}},this.getAttribute=(e,t)=>{const n=this.nodeManager.getDOM(e);return n?{status:r.default.Success,value:n.getAttribute(t)}:{status:r.default.NoSuchElement,value:{message:"no such element"}}},this.elementFromPoint=(e,t)=>{const n=document.elementFromPoint(e,t);return n?{status:r.default.Success,value:{WEBVIEW_ELEMENT:this.nodeManager.getElementId(n)}}:{status:r.default.NoSuchElement,value:{message:"no such element"}}},this.focus=e=>{const t=this.nodeManager.getDOM(e);return t||t?(t.focus(),{status:r.default.Success}):{status:r.default.NoSuchElement,value:{message:"no such element"}}},this.getContentSize=()=>({status:r.default.Success,value:{windowHeight:window.innerHeight,windowWidth:window.innerWidth,scrollTop:document.body.scrollTop||document.documentElement.scrollTop,scrollLeft:document.body.scrollLeft||document.documentElement.scrollLeft,scrollHeight:document.body.scrollHeight||document.documentElement.scrollHeight,scrollWidth:document.body.scrollWidth||document.documentElement.scrollWidth}}),this.findShadowRoot=e=>{const t=document.querySelector(e);if(!t||!t.shadowRoot)return{status:r.default.NoSuchElement,value:{message:"no such element"}};const n=t.shadowRoot;return{status:r.default.Success,value:{WEBVIEW_SHADOW_ROOT:this.nodeManager.getElementId(n)}}},this.findElementInWebviewShadowRoot=(e,t)=>{const n=this.nodeManager.getDOM(t);if(!n)return{status:r.default.NoSuchElement,value:{message:"shadow root not found"}};const o=n.querySelector(e);return o?{status:r.default.Success,value:{WEBVIEW_ELEMENT:this.nodeManager.getElementId(o)}}:{status:r.default.NoSuchElement,value:{message:"no such element"}}},this.clickContextMenu=e=>($contextMenuClicked(e),{status:r.default.Success}),this.scrollIntoView=e=>{const t=this.nodeManager.getDOM(e);return t?(t.scrollIntoView(),{status:r.default.Success}):{status:r.default.NoSuchElement,value:{message:"no such element"}}}}init(e={}){const t={[s.findElement]:({using:e,value:t})=>this.findElement(e,t),[s.findElements]:({using:e,value:t})=>this.findElements(e,t),[s.scroll]:({xoffset:e,yoffset:t})=>this.scroll(e,t),[s.getTagName]:({ELEMENT:e})=>this.getTagName(e),[s.getAttribute]:({ELEMENT:e,name:t})=>this.getAttribute(e,t),[s.getCssValue]:({ELEMENT:e,propertyName:t})=>this.getCssValue(e,t),[s.getProperty]:({ELEMENT:e,propertyName:t})=>this.getProperty(e,t),[s.getSize]:({ELEMENT:e})=>this.getSize(e),[s.getRect]:({ELEMENT:e})=>this.getRect(e),[s.getLocation]:({ELEMENT:e})=>this.getLocation(e),[s.elementFromPoint]:({x:e,y:t})=>this.elementFromPoint(e,t),[s.getContentSize]:this.getContentSize,[s.focus]:({ELEMENT:e})=>this.focus(e),[s.scrollIntoView]:({ELEMENT:e})=>this.scrollIntoView(e),[s.findShadowRoot]:({selector:e})=>this.findShadowRoot(e),[s.findElementInWebviewShadowRoot]:({selector:e,shadowRootHostId:t})=>this.findElementInWebviewShadowRoot(e,t),[s.clickContextMenu]:({id:e})=>this.clickContextMenu(e)};o.default.registerCallback(({command:n,data:i})=>{const r=e[n]||t[n];if(r){const e=r(i);o.default.send({command:n+".callback",data:{callbackID:i.callbackID,res:e}})}})}}},70:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowRemain={parent:!0,__global:!0,atob:!0,onload:!0,setTimeout:!0,setInterval:!0,clearTimeout:!0,clearInterval:!0,requestAnimationFrame:!0,cancelAnimationFrame:!0,WebGLRenderingContext:!0,innerWidth:!0,innerHeight:!0,require:!0,navigator:!0,self:!0,performance:!0,webkitURL:!0,scrollTo:!0,FontFace:!0,WeakRef:!0,FinalizationGroup:!0,FinalizationRegistry:!0,Path2D:!0,loadBabelMod:!0,TextDecoder:!0,TextEncoder:!0,AudioContext:!0},t.__globalWindowRemainForEngineIDE={getComputedStyle:!0,Node:!0},t.windowCanNotEnumerable=["XMLHttpRequest","WebSocket","Audio","DOMParser","AudioContext","WebGLRenderingContext","WebAssembly"],t.documentRemain={body:!0,createElement:!0,createDocumentFragment:!0,head:!0,fonts:!0,removeEventListener:!0,addEventListener:!0,readyState:!0,activeElement:!0,childNodes:!0,pointerLockElement:!0,exitPointerLock:!0},t.nodeGlobal=["Object","Function","Array","Number","parseFloat","parseInt","Boolean","String","Symbol","Date","Promise","RegExp","Error","EvalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","JSON","Math","Intl","ArrayBuffer","Uint8Array","Int8Array","Uint16Array","Int16Array","Uint32Array","Int32Array","Float32Array","Float64Array","Uint8ClampedArray","DataView","Map","Set","WeakMap","WeakSet","Proxy","Reflect","Infinity","NaN","undefined","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape","eval","isFinite","isNaN","WebAssembly","console","DTRACE_NET_SERVER_CONNECTION","DTRACE_NET_STREAM_END","DTRACE_HTTP_SERVER_REQUEST","DTRACE_HTTP_SERVER_RESPONSE","DTRACE_HTTP_CLIENT_REQUEST","DTRACE_HTTP_CLIENT_RESPONSE","global","GLOBAL","root","Buffer","clearImmediate","clearInterval","clearTimeout","setImmediate","setInterval","setTimeout"],t.__globalDocumentRemain={readyState:!0,onreadystatechange:!0,createElement:!0,getElementById:!0,addEventListener:!0,removeEventListener:!0,getElementsByTagName:!0,Image:!0},t.__globalDocumentRemainForEngineIDE={createElement:!0,body:!0,documentElement:!0,activeElement:!0,scripts:!0,addEventListener:!0,removeEventListener:!0,createEvent:!0,activeElementNS:!0,createTextNode:!0,querySelector:!0,destroy:!0,createComment:!0,currentScript:!0,onkeydown:!0,getElementById:!0,head:!0,scrollingElement:!0,getElementsByClassName:!0,getElementsByTagName:!0,createElementNS:!0,createRange:!0,execCommand:!0,writeln:!0},t.default={windowRemain:t.windowRemain,windowCanNotEnumerable:t.windowCanNotEnumerable,documentRemain:t.documentRemain,nodeGlobal:t.nodeGlobal,__globalDocumentRemain:t.__globalDocumentRemain,__globalDocumentRemainForEngineIDE:t.__globalDocumentRemainForEngineIDE,__globalWindowRemainForEngineIDE:t.__globalWindowRemainForEngineIDE}},71:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=navigator.userAgent||"",i=o.indexOf(" webdebugger ")>0,r=o.indexOf(" miniprogramhtmlwebview ")>0,a=o.indexOf(" miniprogram ")>0,s=o.indexOf(" gameservice ")>0,l=o.indexOf(" appservice ")>0,c=o.indexOf(" gitmanager")>0,d=o.indexOf(" cloudconsolev1")>0,u=o.indexOf(" wechatideplugin ")>0,f=o.indexOf(" simulatorplugin ")>0,m=/^chrome-extension:\/\/\w+\/html\/subapp-window.html/.test(location.href),g=o.indexOf(" isgameengineide ")>0,w=o.indexOf(" isgameengineideiframe")>0,E=o.indexOf(" devtoolsedit")>0,p=o.indexOf(" appservicedevtools")>0,_=o.indexOf(" test-mode")>0,h=o.indexOf(" allownw")>0;let v=o.indexOf(" gameserviceenv/")>0?o.match(/\sgameserviceenv\/([^\s]*)\s/):"";v=(null==v?void 0:v[1])?v[1]:"",t.default={isWebDebugger:i,isMiniProgramHtmlWebview:r,isMiniProgram:a,isAppService:l,isGame:s,isIDEPlugin:u,isSimulatorPlugin:f,isSubAppWindow:m,isGameEngineIDE:g,isGameEngineIDEIframe:w,isEditor:E,isAppServiceDevtools:p,isGitManager:c,isCloudConsoleV1:d,isTestMode:_,isAllowNw:h,gameEnvType:v}},72:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),i=function(){let e=1;return function(){return e++}}();function r(e,t){const n=i();return this.__callbackMap[n]={callback:e,resolve:t},n}t.default=class{constructor(e){this.__callbackMap={},this.__onEvent={},Object.defineProperty(this,"__callbackMap",{value:{},writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(this,"__onEvent",{value:{},writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(this,"__messager",{value:new o("PLUGIN_"+e),writable:!1,enumerable:!1,configurable:!1}),this.__messager.registerCallback(e=>{const{command:t,data:n}=e;if("INVOKE_CALLBACK"===t){const{callbackID:e,res:t}=n,o=this.__callbackMap[e];o&&("function"==typeof o.callback&&o.callback(t),"function"==typeof o.resolve&&o.resolve(t)),delete this.__callbackMap[e]}if("ON_EVENT"===t){const{eventName:e,res:t}=n,o=this.__onEvent[e];"function"==typeof o&&o(t)}})}get invoke(){return(e,t,n)=>new Promise(o=>{n="function"==typeof n?n:()=>{},this.__messager.send({command:e,data:t,callbackID:r.call(this,n,o)})})}get on(){return(e,t)=>{this.__onEvent[e]=t}}}},73:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{async getItem(e){return(await window.wechatide.invoke("PLUGIN_STORAGE_GET_ITEM",{key:e})).value}async setItem(e,t){await window.wechatide.invoke("PLUGIN_STORAGE_SET_ITEM",{key:e,value:t})}async removeItem(e){await window.wechatide.invoke("PLUGIN_STORAGE_REMOVE_ITEM",{key:e})}}}});