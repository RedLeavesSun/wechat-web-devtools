!function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=163)}({163:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(49),o=t(50);!function(e){const r=e.postMessage,t=e.eval,a=e.Atomics,i=e._console=e.console,s={create:t=>{r({type:n.INativeWorkerOnMessageType.WeixinWorkerInvoke,method:"create",arguments:[e.WeixinWorker.__workerId__,t]})},terminate:t=>{r({type:n.INativeWorkerOnMessageType.WeixinWorkerInvoke,method:"terminate",arguments:[e.WeixinWorker.__workerId__,t]})},postMsgToWorker:(t,o)=>{r({type:n.INativeWorkerOnMessageType.WeixinWorkerInvoke,method:"postMsgToWorker",arguments:[e.WeixinWorker.__workerId__,t,o]})},postMsgToAppService:e=>{try{"string"==typeof e&&(e=JSON.parse(e)),r({type:n.INativeWorkerOnMessageType.WeixinWorkerInvoke,method:"postMsgToAppService",arguments:[s.__workerId__,e]})}catch(e){i.error("send msg to appservice error: ",e)}}};e.WeixinWorker=s;let u,c,d=[];const k=new Map;e.onmessage=r=>{var o;if(r.data)switch(r.data.type){case n.INativeWorkerPushMessageType.InitWorker:s.__workerId__=r.data.__workerId__,d=(null===(o=r.data.options)||void 0===o?void 0:o.APIList)||[],u=r.data.sab,u&&(c=new Int32Array(u));break;case n.INativeWorkerPushMessageType.Run:t(r.data.code);break;case n.INativeWorkerPushMessageType.TriggerOnMessage:e.WeixinWorker.appServiceMsgHandler(r.data.msg);break;case n.INativeWorkerPushMessageType.InvokeJS:{const e=JSON.stringify(r.data.data||{}),n=r.data.api,o=k.get(n);void 0!==o&&t(`WeixinJSBridge.invokeCallbackHandler(${o}, ${e})`);break}case n.INativeWorkerPushMessageType.TriggerOnEvent:{const{eventName:e,data:n}=r.data;t(`WeixinJSBridge.subscribeHandler('${e}', ${JSON.stringify(n||{})})`)}}},e.workerInvokeJsApi=(e,u,f)=>{if(!d.includes(e))return i.warn(`[worker] ${e}:fail not support`),{errMsg:e+":fail not support"};if(k.set(e,f),"string"==typeof u&&(u=JSON.parse(u)),r({type:n.INativeWorkerOnMessageType.WeixinWorkerInvoke,method:"invokeJS",api:e,args:u,__workerId__:s.__workerId__}),o.isSyncSDK(e)&&c){a.wait(c,0,0);const e=o.int32Array2Str(a,c,2);return t(`WeixinJSBridge.invokeCallbackHandler(${f}, ${e})`),a.store(c,0,0),a.store(c,1,0),JSON.parse(e)}}}(self)},49:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e){e[e.Run=0]="Run",e[e.InitWorker=1]="InitWorker",e[e.TriggerOnMessage=2]="TriggerOnMessage",e[e.InvokeJS=3]="InvokeJS",e[e.TriggerOnEvent=4]="TriggerOnEvent"}(r.INativeWorkerPushMessageType||(r.INativeWorkerPushMessageType={})),function(e){e.WeixinWorkerInvoke="WeixinWorkerInvoke"}(r.INativeWorkerOnMessageType||(r.INativeWorkerOnMessageType={}))},50:function(e,r,t){"use strict";function n(e){return new Int32Array(e).reduce((e,r)=>e+String.fromCharCode(r),"")}function o(e){let r="";const t=new Uint8Array(e),n=t.byteLength;for(let e=0;e<n;e++)r+=String.fromCharCode(t[e]);return __global.btoa(r)}Object.defineProperty(r,"__esModule",{value:!0}),r.ab2str=n,r.str2ab=function(e){const r=new ArrayBuffer(4*e.length),t=new Int32Array(r);for(let r=0,n=e.length;r<n;r++)t[r]=e.charCodeAt(r);return r},r.str2Int32Array=function(e){const r=new ArrayBuffer(4*e.length),t=new Int32Array(r);for(let r=0,n=e.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.int32Array2Str=function(e,r,t=1){const o=e.load(r,1),a=new ArrayBuffer(4*o),i=new Int32Array(a);for(let n=t;n<o+t;n++){const o=e.load(r,n);i[n-t]=o}return n(a)},r.arrayBufferToBase64=o;const a={getSystemInfo:!0,getBackgroundAudioState:!0,setBackgroundAudioState:!0,operateBackgroundAudio:!0,createRequestTask:!0,createUploadTask:!0,createDownloadTask:!0,createSocketTask:!0,operateSocketTask:!0,createAudioInstance:!0,unlink:!0};r.isSyncSDK=function(e){return!!a[e]||/Sync$/.test(e)},r.coverRes=function(e){for(const t in e)if(r=e[t],"[object ArrayBuffer]"===Object.prototype.toString.call(r)){const r=o(e[t]);e.__nativeBuffers__=[{key:t,base64:r}],delete e[t]}var r;return e}}});