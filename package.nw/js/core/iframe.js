"use strict";const e=()=>{const e=document.getElementById("webview"),n=window.ua||navigator.userAgent,t=n.indexOf(" wechatideplugin ")>0;e.setUserAgentOverride(n);const o=window.location.search.indexOf("uncontrolledwindow=1")>-1;e.addEventListener("newwindow",(function e(n){if(o){const t=document.createElement("webview");document.body.appendChild(t),n.window.attach(t),t.addEventListener("newwindow",e)}else window.open(n.targetUrl)})),t&&e.addEventListener("dialog",e=>{e.preventDefault();const n=e.messageType||"",t=e.messageText;if("prompt"!==n||"GET_MESSAGE_TOKEN"!==t)e.dialog.ok();else{require('../js/unpack/hackrequire/index.js');const n=require('../core.wxvpkg/d15bfd6a2234129f5ea1f808e801b055.js');e.dialog.ok(n.getToken("PLUGIN"))}}),window.postMessage("popup-ready","*")};"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e);